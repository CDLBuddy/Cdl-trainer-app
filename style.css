/* ==========================================================================
   CDL Trainer -- style.css
   ========================================================================== */

/* === 0. THEME & BASE VARIABLES ========================================= */
:root {
  --brand-dark: #0e1b1b;
  --brand-mid: #004d66;
  --brand-light: #4e91ad;
  --accent: #c4dbe8;
  --text-light: #ffffff;
  --text-dark: #e0e0e0;
  --card-bg: rgba(255, 255, 255, 0.06);
  --card-bg-dark: rgba(10, 15, 20, 0.6);
  --toast-bg: rgba(0, 0, 0, 0.85);
  --toast-text: #ffffff;
  --error: #e53e3e;
  --success: #48bb78;
  --safe-area-inset-top: env(safe-area-inset-top, 20px);
}
body {
  padding-top: var(--safe-area-inset-top);
}
.toast-message.toast-success {
  background: var(--success, #48bb78);
  color: #fff;
}
.toast-message.toast-error {
  background: var(--error, #e53e3e);
  color: #fff;
}
.toast-message.toast-info {
  background: var(--toast-bg, rgba(0, 0, 0, 0.85));
  color: var(--toast-text, #fff);
}
/* Optional: Toast focus (for a11y, tab) */
.toast-message:focus {
  outline: 2px solid var(--accent, #b48aff);
  outline-offset: 2px;
}
/* Optional: Smoother fade out */
@keyframes fadeInEnhanced {
  0% {
    opacity: 0;
    transform: translateY(16px) scale(0.96);
  }
  80% {
    opacity: 1;
    transform: translateY(-4px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
/* === MOBILE SAFE AREA + LAYOUT FIXES (insert after :root) =============== */
html,
body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* Prevent horizontal scroll */
  font-family: 'Helvetica Neue', Arial, sans-serif;
  color: var(--text-light);
  background: var(--brand-dark, #0b0a34);
}

body {
  padding-top: env(safe-area-inset-top, 20px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}
/* === 2. BACKGROUND, GRADIENTS & ANIMATIONS ============================= */
body {
  background: linear-gradient(
    -45deg,
    var(--brand-dark) 0%,
    var(--brand-mid) 25%,
    var(--brand-light) 50%,
    var(--brand-mid) 75%,
    var(--brand-dark) 100%
  );
  background-size: 600% 600%;
  animation: gradientFlow 12s linear infinite;
}
@keyframes gradientFlow {
  0% {
    background-position: 0% 40%;
  }
  50% {
    background-position: 100% 60%;
  }
  100% {
    background-position: 0% 40%;
  }
}
body.dark-mode {
  background: #121212;
  color: var(--text-light);
}

/* === 3. TYPOGRAPHY, TYPEWRITER, HEADLINE, CURSOR ======================= */
.typewriter {
  font-size: 2rem;
  margin: 0 0 1rem;
  line-height: 1.2;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
  min-height: calc(2 * 1.2em);
  overflow: hidden;
}
.cursor {
  display: inline-block;
  vertical-align: bottom;
  animation: blink 0.7s step-end infinite;
}
@keyframes blink {
  50% {
    opacity: 0;
  }
}

/* === 4. BUTTONS (Modern Soft Card-Action Style) ========================== */
.btn,
button:not(.rail-btn):not(.fab),
input[type='button'],
input[type='submit'] {
  background: var(--accent);
  color: var(--brand-dark);
  border: none;
  border-radius: 10px;
  padding: 0.8rem 1.8rem;
  font-size: 1.07rem;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 3px 14px rgba(50, 100, 120, 0.13);
  transition:
    background 0.22s,
    box-shadow 0.19s,
    transform 0.16s;
  outline: none;
  position: relative;
  display: inline-block;
  letter-spacing: 0.01em;
}

.btn:hover,
button:not(.rail-btn):not(.fab):hover:not(:disabled),
input[type='button']:hover:not(:disabled),
input[type='submit']:hover:not(:disabled) {
  background: #b2d0df;
  box-shadow: 0 7px 24px rgba(44, 80, 100, 0.16);
  transform: translateY(-1px) scale(1.011);
}

.btn:active,
button:not(.rail-btn):not(.fab):active:not(:disabled),
input[type='button']:active:not(:disabled),
input[type='submit']:active:not(:disabled) {
  background: #8bb6c8;
  box-shadow: 0 2px 8px rgba(44, 80, 100, 0.11);
  transform: scale(0.97);
}

.btn:disabled,
button:disabled,
input[type='button']:disabled,
input[type='submit']:disabled {
  opacity: 0.48;
  cursor: not-allowed;
}

.btn.wide {
  width: 100%;
}
.btn-sm {
  font-size: 0.94em;
  padding: 7px 16px;
}

/* === 5. SCREEN WRAPPER, LAYOUT, CARDS, GLASS =========================== */
.screen-wrapper {
  min-height: 100vh;
  min-height: 100dvh;
  width: 100%;
  box-sizing: border-box;
  padding: 0;
  background: none;
}
/* "Glass" cards float inside the wrapper, with glass style, shadow, and border */
.dashboard-card,
.glass-card,
.glass-card.metric {
  background: linear-gradient(120deg, var(--brand-mid), var(--brand-light));
  color: var(--text-light);
  border-radius: 15px;
  box-shadow:
    0 4px 18px 0 rgba(0, 0, 0, 0.18),
    0 1.5px 10px 0 var(--brand-mid);
  padding: 1.2rem 1.35rem 1.2rem 1.35rem;
  margin-bottom: 1.4rem;
  position: relative;
  z-index: 2;
  font-size: 1.13em;
  border: 1.5px solid var(--accent);
  backdrop-filter: blur(12px) saturate(135%);
  transition:
    background 0.3s,
    color 0.3s;
}

.dash-layout {
  display: flex;
  align-items: flex-start;
  gap: 2rem;
  padding: 0 14px;
}
.dash-metrics {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1.3rem;
}
.big-num {
  font-size: 1.3rem;
  font-weight: 600;
}

.centered-page {
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow-x: hidden;
  overscroll-behavior-y: contain;
  -webkit-overflow-scrolling: touch;
  width: 100vw;
  box-sizing: border-box;
  padding: 0 1rem;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  position: relative;
}

.main-card {
  max-width: 430px;
  width: 96vw;
  margin: 0 auto;
  box-sizing: border-box;
  padding: 2rem 1.3rem 2rem 1.3rem;
  background: rgba(25, 32, 38, 0.19);
  backdrop-filter: blur(14px) saturate(140%);
  border-radius: 22px;
  box-shadow:
    0 8px 36px 0 rgba(40, 60, 90, 0.18),
    0 1.5px 10px 0 #4e91ad44;
  border: 1.2px solid rgba(255, 255, 255, 0.11);
  overflow: visible;
}
@media (max-width: 600px) {
  .main-card {
    max-width: 98vw;
    padding: 1.2rem 0.6rem 1.2rem 0.6rem;
  }
  .centered-page {
    padding: 0 2vw;
  }
}
/* â”€â”€â”€â”€â”€ Dashboard Rail Layout â”€â”€â”€â”€â”€ */
.dash-rail-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0;
}

.dash-rail {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.2rem;
  width: 100%;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  margin-bottom: 0 !important;
  padding: 0;
}
/* Hide scrollbars for dashboard nav rail (horizontal or vertical) */
.dash-rail {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE10+ */
}
.dash-rail::-webkit-scrollbar {
  display: none; /* Safari & Chrome */
}
.dash-rail {
  overflow-x: auto;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* â”€â”€â”€â”€â”€ Glass Rail Buttons: UPGRADED â”€â”€â”€â”€â”€ */
.rail-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 240px;
  min-height: 82px;
  padding: 20px 0 10px 0;
  margin: 0 auto;
  border-radius: 28px;
  background: linear-gradient(
    135deg,
    rgba(196, 219, 232, 0.19) 18%,
    rgba(78, 145, 173, 0.29) 100%
  );
  border: 2.7px solid rgba(196, 219, 232, 0.26);
  color: var(--text-light);
  box-shadow:
    0 7px 36px 3px rgba(78, 145, 173, 0.24),
    0 3px 14px rgba(78, 145, 173, 0.15),
    0 0 0 10px rgba(196, 219, 232, 0.11) inset,
    0 22px 48px rgba(0, 0, 0, 0.16);
  position: relative;
  overflow: hidden;
  transition:
    background 0.26s cubic-bezier(0.44, 1.18, 0.55, 1),
    box-shadow 0.2s,
    transform 0.15s,
    border 0.19s;
  backdrop-filter: blur(20px) saturate(142%);
  -webkit-backdrop-filter: blur(20px) saturate(142%);
  will-change: transform;
  z-index: 2;
  outline: none;
  font-size: 1.2em;
  font-weight: 700;
  user-select: none;
  letter-spacing: 0.02em;
}

.rail-btn:hover {
  background: linear-gradient(
    135deg,
    rgba(196, 219, 232, 0.35) 15%,
    rgba(78, 145, 173, 0.46) 100%
  );
  box-shadow:
    0 14px 64px 7px rgba(78, 145, 173, 0.39),
    0 3px 26px rgba(78, 145, 173, 0.25),
    0 0 0 20px rgba(196, 219, 232, 0.13) inset;
  transform: translateY(-5px) scale(1.05);
  border-color: rgba(196, 219, 232, 0.32);
}

.rail-btn:active {
  background: linear-gradient(
    135deg,
    rgba(196, 219, 232, 0.12) 18%,
    rgba(78, 145, 173, 0.14) 100%
  );
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.19) inset;
  transform: scale(0.97);
}

.rail-btn .profile-icon,
.rail-btn svg {
  width: 56px;
  height: 56px;
  min-width: 56px;
  min-height: 56px;
  display: block;
  margin: 0 auto 7px auto;
  border-radius: 50%;
  /* sharper icon display: */
  filter: drop-shadow(0 1px 3px rgba(20, 50, 80, 0.16));
}

.rail-btn .label {
  margin-top: 3px;
  font-size: 1.05em;
  font-weight: 700;
  text-shadow: 0 1.5px 6px rgba(30, 60, 80, 0.15);
  letter-spacing: 0.01em;
  color: var(--text-light);
}
.rail-btn {
  /* (existing rules stay!) */
  touch-action: manipulation;
  will-change: transform, box-shadow;
}
.rail-btn:hover,
.rail-btn:focus-visible {
  background: linear-gradient(
    135deg,
    rgba(196, 219, 232, 0.42) 15%,
    rgba(78, 145, 173, 0.62) 100%
  );
  box-shadow:
    0 18px 64px 7px rgba(78, 145, 173, 0.44),
    0 6px 26px rgba(78, 145, 173, 0.27),
    0 0 0 22px rgba(196, 219, 232, 0.18) inset;
  transform: translateY(-9px) scale(1.065);
  border-color: rgba(196, 219, 232, 0.36);
  outline: none;
}
.rail-btn:active {
  /* More subtle for tap */
  transform: scale(0.98);
  filter: brightness(0.97);
  background: linear-gradient(
    135deg,
    rgba(196, 219, 232, 0.16) 18%,
    rgba(78, 145, 173, 0.23) 100%
  );
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.18) inset;
}
.rail-btn {
  /* keep your existing base styles! */
  transition:
    background 0.24s cubic-bezier(0.32, 1.23, 0.48, 1),
    box-shadow 0.22s cubic-bezier(0.39, 1.57, 0.53, 1),
    border-color 0.25s,
    transform 0.19s cubic-bezier(0.44, 1.7, 0.57, 0.94);
  will-change: transform, box-shadow;
}

.rail-btn:hover,
.rail-btn:focus-visible {
  background: linear-gradient(
    130deg,
    rgba(196, 219, 232, 0.22),
    rgba(78, 145, 173, 0.22) 100%
  );
  box-shadow:
    0 7px 32px 0 rgba(78, 145, 173, 0.19),
    0 2px 8px rgba(78, 145, 173, 0.13);
  transform: translateY(-10px) scale(1.07);
  z-index: 2;
  outline: none;
}

.rail-btn:active {
  transform: scale(0.96);
  background: linear-gradient(
    130deg,
    rgba(196, 219, 232, 0.13),
    rgba(78, 145, 173, 0.13) 100%
  );
  box-shadow: 0 1px 6px rgba(78, 145, 173, 0.08);
  filter: brightness(0.98);
}
/* â”€â”€â”€â”€â”€ SVG Icon Consistency â”€â”€â”€â”€â”€ */
.rail-btn .profile-icon {
  font-size: 2.6em;
  display: block;
  margin-bottom: 7px;
  color: #4e91ad;
  filter: drop-shadow(0 0 18px #4e91ad77) drop-shadow(0 0 32px #4e91ad22);
  pointer-events: none;
  border-radius: 50%;
}
/* â”€â”€â”€â”€â”€ Label Style â”€â”€â”€â”€â”€ */
.rail-btn .label {
  min-height: 2.3em;
  display: block;
  text-align: center;
  white-space: normal;
  line-height: 1.15;
  word-break: break-word;
  font-size: 1.11em;
  font-weight: 700;
  color: var(--text-light);
  margin-top: 2px;
  letter-spacing: 0.01em;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* â”€â”€â”€â”€â”€ Glass Halo Effect â”€â”€â”€â”€â”€ */
.rail-btn::before {
  content: '';
  position: absolute;
  inset: -10px;
  border-radius: 34px;
  background: radial-gradient(
    circle at 58% 20%,
    rgba(78, 145, 173, 0.13) 0%,
    transparent 82%
  );
  pointer-events: none;
  z-index: 1;
  opacity: 0.97;
  animation: haloPulse 3.2s infinite linear;
}
@keyframes haloPulse {
  0%,
  100% {
    opacity: 0.97;
  }
  40% {
    opacity: 1;
  }
  60% {
    opacity: 0.89;
  }
}

/* â”€â”€â”€â”€â”€ Special: Logout Button â”€â”€â”€â”€â”€ */
.rail-btn.logout {
  margin-top: 32px;
  width: 260px;
  min-height: 72px;
  border-radius: 24px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* â”€â”€â”€â”€â”€ Responsive (Mobile) â”€â”€â”€â”€â”€ */
@media (max-width: 540px) {
  .rail-btn,
  .rail-btn.logout {
    width: 96vw;
    max-width: 320px;
    min-width: 165px;
    font-size: 1.02em;
    padding-left: 0;
    padding-right: 0;
  }
}

/* â”€â”€â”€â”€â”€ Remove accidental borders or separators under the rail â”€â”€â”€â”€â”€ */
.dash-rail hr,
.dash-rail > .divider,
.dash-rail + hr {
  display: none !important;
  border: none !important;
  margin: 0 !important;
}
/* === 7. METRICS, CHECKLIST, PROGRESS, BADGES, NOTIFICATIONS ============ */
.metric h3,
.dashboard-card h3 {
  margin: 0 0 0.5rem;
  font-size: 1.08rem;
}
.metric progress {
  width: 100%;
  height: 8px;
  border-radius: 4px;
  appearance: none;
}
.metric progress::-webkit-progress-bar {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 4px;
}
.metric progress::-webkit-progress-value {
  background: var(--accent);
  border-radius: 4px;
}
.checklist-page {
}
.progress-track {
  background: rgba(255, 255, 255, 0.13);
  border-radius: 6px;
  height: 18px;
  position: relative;
  overflow: hidden;
}
.progress-fill {
  background: linear-gradient(
    90deg,
    var(--brand-light) 60%,
    var(--accent) 100%
  );
  height: 100%;
  border-radius: 6px;
  transition: width 0.5s cubic-bezier(0.6, 0.5, 0.18, 1.2);
}
.progress-label {
  position: absolute;
  right: 8px;
  top: 0;
  font-size: 0.95rem;
  color: var(--text-dark);
  height: 100%;
  display: flex;
  align-items: center;
  font-weight: bold;
}
.checklist-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.checklist-list li {
  background: var(--card-bg);
  border-radius: 10px;
  margin-bottom: 14px;
  padding: 1rem 1.1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  font-size: 1.08rem;
  box-shadow: 0 2px 7px rgba(0, 0, 0, 0.09);
  position: relative;
}
.checklist-list li.done {
  opacity: 0.75;
  text-decoration: line-through;
}
.badge-success {
  background: var(--success);
  color: #fff;
  border-radius: 10px;
  padding: 2px 8px;
  font-size: 1.02em;
  font-weight: bold;
}
.badge {
  font-size: 0.8em;
  padding: 4px 10px;
  margin-left: 8px;
  border-radius: 999px;
  font-weight: 600;
  display: inline-block;
}
.badge-fail {
  background-color: #e74c3c;
  color: #fff;
}
.badge-neutral {
  background-color: #666a;
  color: #fff;
}
.notify-bubble {
  position: absolute;
  top: 12px;
  right: 12px;
  background: var(--error);
  color: #fff;
  border-radius: 50%;
  font-size: 0.85em;
  padding: 2.5px 7px;
  font-weight: bold;
  z-index: 3;
}

/* === 8. TOASTS, LOADERS, OVERLAYS, ANIMATIONS ========================== */
.toast-message {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--toast-bg);
  color: var(--toast-text);
  padding: 0.75rem 1.25rem;
  border-radius: 6px;
  font-size: 0.95rem;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  animation: fadeInEnhanced 0.4s ease-out forwards;
}
#app-loader {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    -45deg,
    var(--brand-dark),
    var(--brand-mid),
    var(--brand-light),
    var(--brand-mid)
  );
  background-size: 600% 600%;
  animation: gradientFlow 20s linear infinite;
  z-index: 9999;
  color: white;
  font-size: 2rem;
  opacity: 1;
  transition: opacity 0.3s ease;
}
#app-loader.hide,
#app-loader.hidden {
  opacity: 0;
  pointer-events: none;
}
.loader-logo {
  font-weight: bold;
  letter-spacing: 1px;
  font-family: 'Helvetica Neue', sans-serif;
  padding: 1rem 2rem;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 24px var(--accent);
}
.loader-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 0.3s ease;
}
.loader-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}
.truck-spinner {
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: truck-bounce 1.4s infinite ease-in-out;
}
.truck-body {
  font-size: 2.8rem;
  animation: wiggle 1s infinite ease-in-out;
}
.trailers {
  display: flex;
  gap: 6px;
  margin-top: 4px;
}
.trailer {
  width: 24px;
  height: 12px;
  background: var(--accent);
  border-radius: 4px;
  box-shadow: 0 0 6px var(--accent);
}

/* === 9. WELCOME, FEATURES, CAROUSEL, FAB, PARALLAX ===================== */
.welcome-screen {
  min-height: 100vh;
  min-height: 100dvh;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center; /* vertical center */
  align-items: center; /* horizontal center */
  padding: 2.5rem 0;
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
  overflow-x: hidden;
  overflow-y: auto;
  scroll-behavior: smooth;
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  background: none;
}
.welcome-content {
  background: var(--card-bg);
  backdrop-filter: blur(16px) saturate(140%);
  border-radius: 16px;
  padding: 4rem 3rem;
  margin: 2.5rem auto;
  max-width: 480px;
  width: 95%;
  color: var(--text-light);
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.38);
  position: relative;
  z-index: 2;
  transition:
    background 0.3s,
    color 0.3s;
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    0 10px 28px rgba(0, 0, 0, 0.45),
    0 0 32px rgba(196, 219, 232, 0.07);
}
.welcome-content::before {
  content: '';
  position: absolute;
  inset: -12px;
  border-radius: 20px;
  background: radial-gradient(
    ellipse at center,
    rgba(196, 219, 232, 0.07),
    transparent 70%
  );
  box-shadow: 0 0 42px rgba(196, 219, 232, 0.06);
  z-index: -1;
  pointer-events: none;
}
.welcome-content h1,
.welcome-content .typewriter {
  text-shadow: 0 0 8px rgba(196, 219, 232, 0.15);
  animation: pulseTextGlow 3.4s ease-in-out infinite;
}

@keyframes pulseTextGlow {
  0%,
  100% {
    text-shadow: 0 0 6px rgba(196, 219, 232, 0.15);
  }
  50% {
    text-shadow: 0 0 16px rgba(196, 219, 232, 0.3);
  }
}

.welcome-content .btn {
  display: block;
  margin: 2rem auto 0 auto;
  padding: 1rem 2.2rem;
  font-size: 1.1rem;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--accent), #a8d2e2);
  box-shadow: 0 6px 18px rgba(196, 219, 232, 0.25);
  transition:
    transform 0.25s ease,
    box-shadow 0.25s ease;
}
.welcome-content .btn:hover {
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 10px 28px rgba(196, 219, 232, 0.35);
}
#login-btn {
  font-size: 1.1rem;
  padding: 1rem 2.2rem;
  margin-top: 2.2rem;
  background: linear-gradient(135deg, var(--accent), #a8d2e2);
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(196, 219, 232, 0.25);
  transition:
    transform 0.25s ease,
    box-shadow 0.25s ease;
}
#login-btn:hover {
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 10px 28px rgba(196, 219, 232, 0.35);
}

.features {
  overflow: visible;
  position: relative;
  padding: 2rem 0;
  margin-top: 2rem;
}
.features-inner {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  gap: 32px;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scroll-padding-inline: 32px;
  padding: 32px 0 80px;
}
.features-inner::-webkit-scrollbar {
  display: none;
}
.feat {
  flex: 0 0 160px;
  width: 160px;
  height: 160px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    to bottom right,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.06) 40%,
    rgba(0, 0, 0, 0.15) 100%
  );
  backdrop-filter: blur(8px) saturate(135%);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 20px;
  padding: 16px;
  transition:
    transform 0.35s cubic-bezier(0.4, 0.8, 0.2, 1),
    box-shadow 0.35s;
  position: relative;
}
.feat:hover {
  transform: translateY(-12px) scale(1.05);
  box-shadow: 0 28px 48px -12px rgba(0, 0, 0, 0.45);
}
.feat:hover::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: inherit;
  filter: blur(24px);
  animation: carouselGlow 2.4s ease-in-out infinite;
  z-index: -1;
}

/* Carousel FAB and Arrows */
.fab {
  position: fixed;
  right: 24px;
  bottom: 24px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  background: var(--accent);
  color: #fff;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
  transition:
    transform 0.3s,
    box-shadow 0.3s;
  z-index: 1000;
}
.fab:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);
}
.fab:active {
  transform: scale(0.95);
}
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.55);
  color: #fff;
  border: 0;
  cursor: pointer;
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  transition: background 0.25s;
}
.carousel-arrow:hover {
  background: rgba(0, 0, 0, 0.7);
}
.carousel-arrow.left {
  left: 8px;
}
.carousel-arrow.right {
  right: 8px;
}

/* Welcome Parallax/Noise Enhancements */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -3;
  /* Optional shimmer/noise overlay layers */
}
.welcome-screen::after {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -2;
  background-image: url('noise.png');
  opacity: 0.07;
  pointer-events: none;
  mix-blend-mode: screen;
}

/* Mobile welcome tweaks */
@media (max-width: 600px) {
  .welcome-content {
    margin: 2rem 1rem;
    padding: 1.5rem;
    max-width: calc(100% - 2rem);
  }
  .feat {
    width: 120px;
    height: 120px;
    flex: 0 0 120px;
    padding: 1rem 0.5rem;
    font-size: 0.85rem;
  }
}

/* === 10. AUTH, LOGIN, SIGNUP, FORMS ==================================== */
.login-card,
.signup-card {
  background: var(--card-bg);
  border-radius: 20px;
  max-width: 400px;
  margin: 48px auto 0 auto;
  padding: 2.4rem 2rem 2rem 2rem;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.24);
  backdrop-filter: blur(14px) saturate(130%);
  color: var(--text-light);
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  animation: fadeInUp 0.6s cubic-bezier(0.5, 0.95, 0.17, 1.12);
}
.login-card h2,
.signup-card h2 {
  margin-bottom: 0.7rem;
  letter-spacing: 0.01em;
  font-size: 2rem;
  text-align: center;
}
.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  margin-bottom: 1.1rem;
}
.form-group label {
  font-weight: 500;
  color: var(--text-light);
  margin-bottom: 2px;
}
.login-card input,
.signup-card input,
.signup-card select {
  border: none;
  border-radius: 8px;
  padding: 0.74rem 1rem;
  font-size: 1rem;
  background: rgba(255, 255, 255, 0.13);
  color: var(--text-light);
  outline: none;
  margin-bottom: 0.3rem;
  transition:
    background 0.18s,
    box-shadow 0.18s;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.09);
}
.login-card input:focus,
.signup-card input:focus,
.signup-card select:focus {
  background: rgba(196, 219, 232, 0.16);
  box-shadow: 0 0 0 2px var(--accent);
  color: var(--text-dark);
}
.login-card .btn,
.signup-card .btn {
  margin-top: 0.5rem;
  width: 100%;
}
.login-footer,
.signup-footer {
  text-align: center;
  margin-top: 0.8rem;
  color: var(--text-dark);
  font-size: 1rem;
}
.role-badge-select {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-bottom: 0.4rem;
}
.role-badge-select label {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 7px;
  padding: 0.3rem 0.9rem;
  cursor: pointer;
  font-weight: 500;
  color: var(--text-light);
  transition:
    background 0.18s,
    box-shadow 0.18s;
  border: 1.5px solid transparent;
  user-select: none;
}
.role-badge-select input[type='radio'] {
  display: none;
}
.role-badge-select input[type='radio']:checked + span {
  background: var(--accent);
  color: var(--brand-dark);
  border: 1.5px solid var(--brand-light);
}

@media (max-width: 600px) {
  .login-card,
  .signup-card {
    max-width: 98vw;
    padding: 1.3rem 0.6rem 1.3rem 0.6rem;
  }
}
/* === Login & Auth Card Responsive Styling === */
.login-card,
.signup-card {
  max-width: 390px;
  width: 100%;
  margin: 6.5vh auto 0 auto;
  padding: 2.7rem 2.3rem 2rem 2.3rem;
  border-radius: 1.3rem;
  background: rgba(25, 20, 50, 0.93);
  box-shadow:
    0 8px 44px -14px rgba(36, 24, 76, 0.23),
    0 1.5px 16px 0 rgba(90, 60, 160, 0.11);
  display: flex;
  flex-direction: column;
  align-items: stretch;
  position: relative;
  animation: fadeInUp 0.9s cubic-bezier(0.23, 1.05, 0.47, 1.07);
  backdrop-filter: blur(6px);
  border: 1.5px solid rgba(170, 110, 255, 0.13);
}

@media (max-width: 700px) {
  .login-card,
  .signup-card {
    padding: 1.4rem 0.7rem 1.6rem 0.7rem;
    margin-top: 2vh;
    border-radius: 1rem;
    max-width: 98vw;
  }
}

.login-card h2,
.signup-card h2 {
  font-size: 2.1em;
  font-weight: 800;
  color: var(--brand-light, #b48aff);
  margin-bottom: 1.2rem;
  letter-spacing: 0.02em;
  text-align: center;
}

/* Form groups and fields */
.form-group {
  display: flex;
  flex-direction: column;
  margin-bottom: 1.14em;
  gap: 0.4em;
}

.form-group label {
  font-size: 1em;
  font-weight: 600;
  color: #ded3fa;
  letter-spacing: 0.01em;
}

.form-group input[type='email'],
.form-group input[type='password'],
.form-group input[type='text'] {
  font-size: 1.11em;
  background: rgba(34, 29, 56, 0.97);
  border: 1.5px solid rgba(180, 138, 255, 0.15);
  color: #f9f6ff;
  border-radius: 0.7em;
  padding: 0.77em 1em;
  outline: none;
  margin-top: 0.1em;
  transition:
    border 0.22s,
    box-shadow 0.22s;
  box-shadow: 0 0 0 0 rgba(170, 110, 255, 0);
}
.form-group input:focus {
  border: 1.6px solid var(--accent, #b48aff);
  box-shadow: 0 0 0 2.5px rgba(180, 138, 255, 0.13);
}
.form-group input:disabled {
  opacity: 0.57;
  background: #2b2744;
}

.password-group {
  margin-bottom: 0.8em;
}

#toggle-password {
  user-select: none;
  font-size: 1.1em;
  padding: 0 0.5em;
  opacity: 0.77;
  transition: opacity 0.16s;
}
#toggle-password:hover,
#toggle-password:focus {
  opacity: 1;
}

#login-form .btn.primary {
  width: 100%;
  margin-top: 0.13em;
  font-weight: 700;
  letter-spacing: 0.015em;
}

#google-login {
  background: #fff;
  color: #222;
  font-weight: 600;
  border: none;
  border-radius: 0.8em;
  margin-bottom: 0.12em;
  box-shadow: 0 1.5px 10px 0 rgba(180, 138, 255, 0.12);
  transition: background 0.18s;
}
#google-login:hover,
#google-login:focus {
  background: #f0ecfa;
  color: #482e88;
}

#reset-password,
#demo-login {
  width: 100%;
  margin-bottom: 0.1em;
}

/* Error & helper messages */
#error-msg {
  color: #ff95a6;
  background: rgba(255, 85, 125, 0.09);
  border-radius: 0.6em;
  padding: 0.48em 0.7em;
  font-size: 1em;
  margin-bottom: 0.4em;
  font-weight: 700;
  text-align: center;
  border: 1px solid rgba(255, 85, 125, 0.12);
}

/* Login/footer links */
.login-footer,
.signup-footer {
  text-align: center;
  color: #ded3fa;
  font-size: 1.08em;
  margin-top: 1.25em;
  letter-spacing: 0.01em;
}
.login-footer .btn,
.signup-footer .btn {
  margin-left: 0.45em;
  padding: 0.2em 1.1em;
  font-size: 1em;
  border-radius: 0.6em;
}

/* Back to Welcome button */
#back-to-welcome-btn {
  margin-top: 1.2rem !important;
  width: 100%;
  font-weight: 700;
  letter-spacing: 0.015em;
}

@media (max-width: 390px) {
  .login-card,
  .signup-card {
    padding: 0.4rem 0.3rem 0.8rem 0.3rem;
    margin-top: 0.7vh;
    border-radius: 0.7rem;
    max-width: 100vw;
  }
}

/* --- Small transition for fade in --- */
@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(36px) scale(0.97);
  }
  96% {
    opacity: 1;
  }
  100% {
    transform: none;
  }
}

/* --- Touch highlight/active effect for mobile --- */
.login-card button:active,
.signup-card button:active {
  filter: brightness(0.92);
  transform: scale(0.98);
}

/* --- Polished button styles (general, can override globally) --- */
.btn,
button.btn {
  font-size: 1.05em;
  font-weight: 600;
  border-radius: 0.8em;
  padding: 0.78em 0.9em;
  outline: none;
  border: none;
  transition:
    background 0.18s,
    box-shadow 0.22s,
    color 0.16s,
    transform 0.12s;
  background: linear-gradient(
    90deg,
    var(--accent, #b48aff) 60%,
    var(--brand-light, #684cc4) 100%
  );
  color: #fff;
  box-shadow: 0 2.5px 8px 0 rgba(180, 138, 255, 0.1);
  margin-bottom: 0.6em;
  cursor: pointer;
}
.btn:hover,
.btn:focus {
  background: linear-gradient(87deg, #ac81ff 50%, #845ac7 100%);
  color: #fff;
  box-shadow: 0 3px 20px 0 rgba(170, 110, 255, 0.17);
}
.btn.outline {
  background: none;
  border: 2px solid var(--accent, #b48aff);
  color: var(--accent, #b48aff);
  box-shadow: none;
}
.btn.outline:hover,
.btn.outline:focus {
  background: rgba(180, 138, 255, 0.07);
  color: #fff;
}

/* --- Accessibility: Focus highlight for keyboard nav --- */
.login-card input:focus,
.login-card button:focus,
.signup-card input:focus,
.signup-card button:focus {
  outline: 2.2px solid var(--accent, #b48aff);
  outline-offset: 2px;
}

/* --- Hide number spinners for input type="number" (if any) --- */
input[type='number']::-webkit-outer-spin-button,
input[type='number']::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type='number'] {
  -moz-appearance: textfield;
}

/* === 11. PROFILE, FORMS, FILE UPLOADS, IMAGES ========================== */
.profile-page {
  background: var(--card-bg);
  border-radius: 16px;
  box-shadow: 0 8px 28px rgba(0, 0, 0, 0.22);
  padding: 2rem 1.7rem 1.7rem 1.7rem;
  max-width: 470px;
  margin: 32px auto 0 auto;
  backdrop-filter: blur(14px) saturate(130%);
  color: var(--text-light);
  position: relative;
  animation: fadeInUp 0.6s cubic-bezier(0.5, 0.95, 0.17, 1.12);
}
#profile-form label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  background: rgba(255, 255, 255, 0.09);
  border-radius: 10px;
  padding: 0.7rem 1rem 0.7rem 1rem;
  margin-bottom: 0.5rem;
  font-size: 1.08rem;
  font-weight: 500;
  box-shadow: 0 2px 7px rgba(0, 0, 0, 0.09);
  border: 1px solid rgba(255, 255, 255, 0.11);
  transition: background 0.22s;
}
#profile-form label:focus-within {
  background: rgba(196, 219, 232, 0.16);
  border-color: var(--accent);
}
#profile-form input[type='text'],
#profile-form input[type='date'],
#profile-form select {
  border: none;
  border-radius: 7px;
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  margin-top: 2px;
  background: rgba(255, 255, 255, 0.13);
  color: var(--text-light);
  outline: none;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  transition:
    background 0.16s,
    box-shadow 0.2s;
}
#profile-form input[type='text']:focus,
#profile-form input[type='date']:focus,
#profile-form select:focus {
  background: rgba(196, 219, 232, 0.18);
  box-shadow: 0 0 0 2px var(--accent);
  color: var(--text-dark);
}
#profile-form input[type='file'] {
  background: none;
  color: var(--accent);
  font-size: 0.99em;
  margin-top: 3px;
}
#profile-form img {
  margin-top: 9px;
  border-radius: 10px;
  box-shadow: 0 1.5px 8px rgba(0, 0, 0, 0.18);
  border: 1.5px solid rgba(196, 219, 232, 0.14);
  max-width: 110px;
}
#profile-form .btn {
  margin-top: 0.8rem;
}
#profile-form .btn.outline {
  margin-top: 0.25rem;
  background: transparent;
  color: var(--text-light);
  border: 1.5px solid var(--accent);
}

@media (max-width: 600px) {
  .profile-page {
    padding: 1rem 0.7rem 1.1rem 0.7rem;
    max-width: 98vw;
  }
}
/* === 12. FLASHCARDS ==================================================== */
.flashcard-card {
  background: #23263a;
  color: var(--text-light, #fff);
  border-radius: 16px;
  margin: 24px 0;
  padding: 0;
  font-size: 1.16em;
  cursor: pointer;
  box-shadow: 0 6px 30px #0002;
  min-height: 140px;
  text-align: center;
  transition:
    box-shadow 0.2s,
    background 0.2s,
    transform 0.45s;
  will-change: transform;
  perspective: 1000px;
  position: relative;
  opacity: 0;
  animation: cardFadeIn 0.65s cubic-bezier(0.43, 0.23, 0.6, 1.34) forwards;
}
.flashcard-card::after {
  content: 'ðŸ”„ Tap to flip';
  position: absolute;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.85em;
  opacity: 0.5;
  color: #ccc;
  pointer-events: none;
}
.flashcard-card:hover {
  box-shadow:
    0 0 24px var(--accent, #b48aff),
    0 6px 40px #23263a77;
  transform: translateY(-3px) scale(1.025);
}
.flashcard-card-inner {
  transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-style: preserve-3d;
  position: relative;
  height: 100%;
}
.flashcard-card.flipped .flashcard-card-inner {
  transform: rotateY(180deg);
}
.flashcard-front,
.flashcard-back {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2em;
  padding: 24px;
  min-height: 140px;
  border-radius: 16px;
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  transition: background 0.3s;
  user-select: none;
}
.flashcard-front {
  background: #23263a;
  color: var(--text-light);
  z-index: 2;
}
.flashcard-back {
  background: #3c3866;
  color: #ffe688;
  transform: rotateY(180deg);
  box-shadow: 0 4px 28px #2223;
}

@keyframes cardFadeIn {
  to {
    opacity: 1;
  }
}

/* === 13. PRACTICE TESTS + REVIEW ======================================= */
.test-list {
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  margin-top: 1.2rem;
}
.glass-card {
  background: rgba(255, 255, 255, 0.07);
  border-radius: 16px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(10px);
  padding: 20px;
  color: var(--text-light);
  transition: transform 0.3s ease;
}
.glass-card:hover {
  transform: translateY(-3px) scale(1.01);
}
.btn-grid {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-top: 0.5rem;
}
.btn.wide {
  width: 100%;
  font-weight: bold;
  padding: 14px 18px;
  border-radius: 12px;
  font-size: 1.05em;
}
.test-review-page h2 {
  font-size: 1.6em;
  margin-bottom: 0.4em;
}
.test-review-page p {
  margin: 8px 0 18px;
}

/* === 14. FADE-IN ON SCROLL, UTILITY CLASSES, LEGACY, ETC =============== */
.fade-in-on-scroll {
  opacity: 0;
  transform: translateY(20px);
  transition:
    opacity 0.6s ease,
    transform 0.6s ease;
}
.fade-in-on-scroll.visible {
  opacity: 1;
  transform: translateY(0);
}

/* === 15. MEDIA QUERIES (keep at bottom) ================================ */
@media (max-width: 600px) {
  .welcome-content {
    margin: 2rem 1rem;
    padding: 1.5rem;
    max-width: calc(100% - 2rem);
  }
  .feat {
    width: 120px;
    height: 120px;
    flex: 0 0 120px;
    padding: 1rem 0.5rem;
    font-size: 0.85rem;
  }
  .rail-btn {
    width: 120px;
    height: 120px;
    font-size: 0.95em;
  }
  .rail-btn i {
    font-size: 2em;
  }
  .rail-btn span {
    max-width: 80px;
    font-size: 0.95em;
  }
  .login-card,
  .signup-card {
    max-width: 98vw;
    padding: 1.3rem 0.6rem 1.3rem 0.6rem;
  }
  .profile-page {
    padding: 1rem 0.7rem 1.1rem 0.7rem;
    max-width: 98vw;
  }
}
@media (max-width: 700px) {
  .dash-layout {
    flex-direction: column;
    align-items: stretch;
    gap: 1.2rem;
    padding: 0 8px;
  }
  .dash-metrics {
    width: 100%;
  }
  .dash-rail {
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    overflow-x: auto;
    margin-bottom: 10px;
    gap: 0.7rem;
  }
  .glass-card.metric,
  .dashboard-card {
    margin-bottom: 12px;
  }
}

/* === Render Instructor =========================================================== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 20, 0.72);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.18s;
}
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
.modal-card.student-profile-modal {
  background: var(--card-bg, #191942e6);
  border-radius: 18px;
  padding: 2.1em 1.7em 1.6em 1.7em;
  box-shadow: 0 8px 42px #0009;
  width: 340px;
  max-width: 97vw;
  font-size: 1.1em;
}
.modal-card .modal-close {
  position: absolute;
  right: 18px;
  top: 16px;
  background: none;
  border: none;
  font-size: 1.8em;
  color: #bbb;
  cursor: pointer;
}
.profile-row {
  display: flex;
  justify-content: space-between;
  margin: 0.5em 0;
  padding-bottom: 0.4em;
  border-bottom: 1px solid #272757;
}
/* === Render Admin =========================================================== */

/* --- Admin User Table Scroll --- */
.user-table-scroll {
  max-height: 370px;
  overflow-y: auto;
  margin: 0 -10px;
  padding: 2px 0 7px 0;
  background: linear-gradient(
    125deg,
    rgba(120, 120, 220, 0.05) 65%,
    rgba(120, 120, 220, 0.1) 100%
  );
  border-radius: 13px;
  box-shadow: 0 2px 10px 0 rgba(70, 90, 130, 0.08);
}

/* --- Admin User Table --- */
.user-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 1em;
  background: none;
  color: var(--text-light);
  border-radius: 13px;
  overflow: hidden;
  margin-bottom: 0;
  box-shadow: 0 2px 10px 0 rgba(70, 90, 130, 0.08);
}
.user-table th,
.user-table td {
  padding: 0.43em 0.68em;
  border-bottom: 1px solid rgba(120, 120, 220, 0.17);
  text-align: left;
  font-weight: 500;
}
.user-table th {
  background: rgba(120, 120, 220, 0.14);
  color: var(--accent);
  position: sticky;
  top: 0;
  z-index: 2;
  font-size: 1.01em;
  letter-spacing: 0.03em;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.07);
  border-bottom: 2px solid var(--brand-mid);
}
.user-table tr:last-child td {
  border-bottom: none;
}

/* --- Remove User Button --- */
.btn-remove-user {
  color: #f84c4c;
  border: 1.2px solid #f84c4c;
  background: transparent;
  padding: 5px 13px;
  border-radius: 8px;
  font-weight: 700;
  font-size: 1em;
  cursor: pointer;
  transition:
    background 0.16s,
    color 0.14s;
  box-shadow: 0 1.5px 7px rgba(248, 76, 76, 0.09);
}
.btn-remove-user:hover {
  background: #f84c4c;
  color: #fff;
}

/* --- Admin Role/Instructor Select Dropdowns --- */
.role-select,
.instructor-select {
  font-size: 1em;
  background: linear-gradient(110deg, #232359 55%, #262646 100%);
  color: #fff;
  border: 1.3px solid #404065;
  border-radius: 7px;
  padding: 0.21em 0.65em 0.21em 0.5em;
  margin: 0 2px;
  transition:
    border 0.18s,
    background 0.17s;
  box-shadow: 0 1px 4px rgba(80, 90, 150, 0.08);
}
.role-select:focus,
.instructor-select:focus {
  border-color: var(--accent);
  background: #222252;
  outline: none;
}

/* --- Table Action Buttons --- */
.user-table .btn,
.user-table button {
  border-radius: 8px;
  background: var(--brand-mid);
  color: var(--text-light);
  padding: 7px 14px;
  font-size: 0.98em;
  font-weight: 700;
  border: none;
  cursor: pointer;
  margin-right: 4px;
  box-shadow: 0 2px 7px rgba(78, 145, 173, 0.1);
  transition:
    background 0.16s,
    color 0.13s;
}
.user-table .btn:hover,
.user-table button:hover {
  background: var(--brand-light);
  color: var(--accent);
}

/* --- Small Device Tweaks --- */
@media (max-width: 580px) {
  .user-table th,
  .user-table td {
    padding: 0.3em 0.3em;
    font-size: 0.97em;
  }
  .user-table-scroll {
    padding: 0;
  }
}
/* === AI COACH UI â€“ PREMIUM CDL BUDDY POLISH ============================ */

/* --- AI Floating Action Button (FAB) --- */
#ai-coach-fab {
  position: fixed;
  right: 24px;
  bottom: 32px;
  z-index: 1500;
  background: linear-gradient(
    135deg,
    var(--brand-light) 55%,
    var(--accent) 100%
  );
  color: var(--brand-dark);
  border: none;
  border-radius: 50%;
  width: 76px; /* <- bigger FAB */
  height: 76px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 4px 22px 0 rgba(0, 0, 0, 0.23),
    0 2px 10px 0 var(--brand-mid);
  transition:
    box-shadow 0.18s,
    background 0.18s,
    transform 0.1s;
  font-size: 2.2rem;
  outline: none;
  cursor: pointer;
  padding: 0;
  overflow: visible;
}
#ai-coach-fab:hover,
#ai-coach-fab:focus {
  background: linear-gradient(135deg, var(--accent) 60%, var(--brand-mid) 100%);
  box-shadow:
    0 8px 36px 0 rgba(0, 0, 0, 0.29),
    0 6px 24px 0 var(--brand-mid);
  color: var(--brand-dark);
  transform: scale(1.08);
}
#ai-coach-fab[hidden] {
  display: none !important;
}

/* Mascot SVG in FAB */
.ai-coach-mascot-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 68px;
  height: 68px;
  position: relative;
}
#ai-coach-mascot {
  width: 66px;
  height: 66px;
  display: block;
  animation: mascot-fab-float 2.8s ease-in-out infinite;
}
@keyframes mascot-fab-float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-9px);
  }
}
/* Optional: glassy glow behind mascot */
.mascot-glow {
  position: absolute;
  width: 66px;
  height: 66px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  pointer-events: none;
  background: radial-gradient(ellipse at 50% 65%, #b6f0f7 40%, transparent 70%);
  filter: blur(5px);
  opacity: 0.38;
  z-index: 0;
}

/* --- Mobile scaling for FAB --- */
@media (max-width: 650px) {
  #ai-coach-fab {
    width: 60px;
    height: 60px;
    font-size: 1.35rem;
    right: 11px;
    bottom: 14px;
  }
  .ai-coach-mascot-wrapper,
  #ai-coach-mascot {
    width: 50px;
    height: 50px;
  }
  .mascot-glow {
    width: 48px;
    height: 48px;
  }
}

/* === AI COACH GLASS OVERLAY POLISH =============================== */

/* The backdrop: dim the main page, so modal floats above */
.ai-coach-modal.modal-overlay,
.modal-overlay {
  position: fixed;
  z-index: 1800;
  inset: 0;
  width: 100vw;
  height: 100dvh;
  background: rgba(16, 28, 44, 0.16); /* Subtle dim, NO blur here */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.28s;
  animation: glassFadeIn 0.38s;
  /* No border-radius, no padding */
}

@keyframes glassFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* NEW: Glassy pane behind modal card */
.modal-glass-bg {
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto;
  width: 100%;
  max-width: 435px;
  height: 100%;
  max-height: 98dvh;
  border-radius: 22px;
  background: rgba(44, 75, 125, 0.16); /* Slight glass tint */
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow: 0 20px 48px 0 rgba(0, 0, 0, 0.09);
  pointer-events: none; /* Don't block clicks */
}

/* Main glass modal card */
.ai-coach-modal .modal-card.ai-coach-card,
.ai-coach-modal,
.ai-coach-page {
  position: relative;
  z-index: 2; /* Ensure on top of .modal-glass-bg */
  max-width: 435px;
  width: 95vw;
  margin: 5vw auto;
  border-radius: 22px;
  background: rgba(29, 55, 75, 0.12); /* Much lighter, more see-thru */
  backdrop-filter: blur(10px) saturate(120%); /* Lower blur for frosted glass */
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow:
    0 16px 36px 0 rgba(0, 0, 0, 0.13),
    0 2.5px 8px 0 var(--brand-mid);
  color: var(--text-light);
  border: none;
  overflow: hidden;
  animation: fadeInUp 0.44s cubic-bezier(0.33, 1.15, 0.55, 1);
  max-height: 98dvh;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

@media (max-width: 650px) {
  .modal-glass-bg {
    max-width: 99vw;
    border-radius: 15px;
  }
  .ai-coach-modal .modal-card.ai-coach-card,
  .ai-coach-modal,
  .ai-coach-page {
    margin: 4vw 2vw;
    width: 96vw;
    max-width: 99vw;
    border-radius: 15px;
    min-width: unset;
  }
}

/* Header: glassier, no border */
.ai-coach-modal-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  gap: 11px;
  padding: 27px 26px 4px 26px;
  background: rgba(60, 102, 130, 0.25);
  border-top-left-radius: 22px;
  border-top-right-radius: 22px;
  min-height: 92px;
  position: relative;
  border: none;
  box-shadow: 0 2.5px 12px 0 rgba(0, 0, 0, 0.04);
}

/* Mascot avatar floats above modal */
.coach-avatar {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: transparent;
  margin-bottom: 3px;
  box-shadow: 0 3px 18px 0 rgba(36, 32, 122, 0.09);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: floatMascot 2.8s ease-in-out infinite;
}

@keyframes floatMascot {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.ai-coach-title {
  margin-top: -28px;
  margin-bottom: 8px;
  padding: 4px 22px 2px 22px;
  font-size: 1.13em;
  font-weight: 700;
  color: var(--accent, #b6f0f7);
  letter-spacing: 0.02em;
  background: rgba(44, 75, 125, 0.19);
  border-radius: 13px;
  box-shadow: 0 1px 7px rgba(30, 40, 80, 0.11);
  text-shadow: 0 1px 10px #1c243055;
  display: inline-block;
  backdrop-filter: blur(6px) saturate(140%);
  -webkit-backdrop-filter: blur(6px) saturate(140%);
  border: 1px solid rgba(185, 195, 235, 0.13);
  z-index: 2;
}

/* Close button: lighter, more glassy */
.modal-close,
.ai-coach-close {
  background: rgba(255, 255, 255, 0.17);
  border: none;
  width: 38px;
  height: 38px;
  border-radius: 11px;
  font-size: 1.41em;
  color: var(--brand-mid);
  cursor: pointer;
  transition:
    background 0.19s,
    color 0.19s;
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 14px;
  right: 14px;
  z-index: 100;
  font-weight: bold;
  box-shadow: 0 2.5px 11px 0 rgba(36, 32, 122, 0.09);
}
.modal-close:hover,
.ai-coach-close:hover {
  background: rgba(196, 219, 232, 0.24);
  color: var(--brand-dark);
}

/* Main chat area (bubbles) */
.ai-coach-chat,
.ai-chat-history {
  padding: 19px 20px 12px 20px;
  background: transparent;
  min-height: 120px;
  max-height: 320px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 13px;
  font-size: 1.07em;
  scroll-behavior: smooth;
}

/* Message bubbles, subtle glass look */
.ai-msg-bubble {
  padding: 13px 16px;
  border-radius: 18px;
  margin-bottom: 2.5px;
  max-width: 82%;
  font-size: 1.08em;
  box-shadow: 0 1.5px 8px rgba(0, 0, 0, 0.07);
  word-break: break-word;
  line-height: 1.46;
  background: rgba(90, 140, 170, 0.22);
  border: 1.2px solid rgba(196, 219, 232, 0.11);
  backdrop-filter: blur(8px) saturate(120%);
  color: var(--text-light);
}

.ai-msg.ai-msg--user .ai-msg-bubble {
  background: rgba(180, 235, 232, 0.15);
  color: var(--brand-dark);
}

/* Suggestions */
.ai-coach-suggestions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 0 17px 9px 17px;
  justify-content: flex-start;
  margin-bottom: 1px;
}
.ai-coach-suggestions button,
.ai-suggestion {
  background: rgba(255, 255, 255, 0.18);
  border: none;
  border-radius: 17px;
  padding: 9px 17px;
  color: var(--brand-dark);
  font-weight: 700;
  margin-bottom: 3px;
  cursor: pointer;
  transition:
    background 0.16s,
    color 0.13s,
    transform 0.13s;
  font-size: 1.03em;
  letter-spacing: 0.01em;
  box-shadow: 0 1.5px 7px 0 rgba(0, 0, 0, 0.1);
  outline: none;
}
.ai-coach-suggestions button:hover,
.ai-suggestion:hover {
  background: rgba(196, 219, 232, 0.22);
  color: var(--brand-mid);
  transform: translateY(-2px) scale(1.045);
}

/* Input row, transparent look */
.ai-coach-input-row,
.ai-chat-form {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 17px 18px 17px;
  background: transparent;
  border-bottom-left-radius: 22px;
  border-bottom-right-radius: 22px;
}

.ai-coach-input-row input[type='text'],
.ai-chat-form input[type='text'] {
  flex: 1;
  border-radius: 13px;
  padding: 13px 14px;
  font-size: 1.09em;
  border: 1.3px solid var(--accent);
  background: rgba(255, 255, 255, 0.16);
  color: var(--brand-dark);
  font-weight: 600;
  transition: border 0.18s;
  outline: none;
}
.ai-coach-input-row input[type='text']:focus,
.ai-chat-form input[type='text']:focus {
  border-color: var(--brand-light);
}
.ai-coach-input-row button[type='submit'],
.ai-chat-form button[type='submit'] {
  border-radius: 12px;
  background: var(--accent);
  color: var(--brand-dark);
  border: none;
  font-weight: 700;
  padding: 12px 25px;
  font-size: 1.07em;
  box-shadow: 0 2px 8px rgba(78, 145, 173, 0.1);
  cursor: pointer;
  transition:
    background 0.15s,
    color 0.11s;
}
.ai-coach-input-row button[type='submit']:hover,
.ai-chat-form button[type='submit']:hover {
  background: var(--brand-light);
  color: var(--text-light);
}

/* --- Mascot avatar in chat bubbles (mini) --- */
.ai-coach-avatar-mini svg {
  width: 32px;
  height: 32px;
  display: block;
}

/* --- Typing dots --- */
.typing-dots {
  display: inline-block;
  font-size: 1.7em;
  letter-spacing: 0.13em;
}
.typing-dots span {
  animation: aiTypingBlink 1.4s infinite;
  opacity: 0.5;
}
.typing-dots span:nth-child(2) {
  animation-delay: 0.22s;
}
.typing-dots span:nth-child(3) {
  animation-delay: 0.44s;
}
@keyframes aiTypingBlink {
  0%,
  80%,
  100% {
    opacity: 0.25;
  }
  30%,
  50% {
    opacity: 1;
  }
}

/* --- Modal scroll lock for mobile --- */
body.ai-modal-open {
  overflow: hidden !important;
}

/* --- Responsive for mobile --- */
@media (max-width: 540px) {
  .modal-glass-bg {
    max-width: 99vw;
    border-radius: 15px;
  }
  .ai-coach-modal .modal-card.ai-coach-card,
  .ai-coach-modal,
  .ai-coach-page {
    margin: 3vw auto;
    max-width: 99vw;
    border-radius: 15px;
    min-width: unset;
  }
  .ai-coach-modal-header {
    font-size: 0.99em;
    padding: 10px 5vw 8px 5vw;
    min-height: 68px;
  }
  .coach-avatar {
    width: 56px;
    height: 56px;
  }
  .ai-coach-chat,
  .ai-chat-history {
    padding: 8px 2.5vw 2px 2.5vw;
  }
  .ai-coach-suggestions,
  .ai-coach-input-row,
  .ai-chat-form {
    padding-left: 2vw;
    padding-right: 2vw;
  }
}
@media (max-width: 360px) {
  .ai-coach-modal,
  .ai-coach-page {
    padding: 0 0.5vw;
  }
  .ai-coach-modal-header {
    padding-left: 6vw;
    padding-right: 6vw;
  }
}
/* Only this area scrolls, not page */
.chatbot-container {
  height: calc(
    100dvh - env(safe-area-inset-top, 24px) - env(safe-area-inset-bottom, 0px)
  );
  overflow-y: auto;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  box-sizing: border-box;
}
/* === UPGRADED CHECKLIST PAGE POLISH (2024, FINAL HORIZONTAL LAYOUT) === */

.checklist-page {
  padding: 18px 0 40px 0;
  background: none;
  min-height: 100vh;
  box-sizing: border-box;
}
@media (max-width: 600px) {
  .checklist-page {
    padding: 8px 0 30vw 0;
  }
}

.checklist-section-header {
  font-size: 1.19em;
  font-weight: 700;
  color: #e6e8fa;
  margin: 1.2em 0 0.5em 0;
  letter-spacing: 0.02em;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding-left: 0 !important;
}

.checklist-list {
  display: flex;
  flex-direction: column;
  gap: 1.05em;
  padding: 0;
  margin: 0;
}

.checklist-item {
  display: flex;
  align-items: center;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 15px;
  padding: 15px 18px 15px 0; /* right/left */
  box-shadow: 0 2px 14px 0 rgba(20, 20, 60, 0.09);
  border: none;
  margin-bottom: 0.92em;
  position: relative;
  min-height: 55px;
  transition:
    box-shadow 0.21s,
    background 0.17s;
}
.checklist-item.done {
  background: linear-gradient(93deg, #36d19b 0%, #b3ffe7 100%);
  color: #17323a;
  font-weight: 600;
  box-shadow: 0 4px 22px 0 rgba(49, 215, 112, 0.08);
}
.checklist-item.readonly .btn,
.checklist-item.done .btn {
  display: none !important;
}
.checklist-item.expanded {
  align-items: flex-start;
}

.checklist-item-main {
  display: flex;
  align-items: center;
  flex-direction: row;
  width: 100%;
  min-width: 0;
  gap: 12px;
  /* Ensure main content doesn't overlap bubble */
  padding-left: 36px;
  box-sizing: border-box;
  position: relative;
}

/* Alert bubble: absolutely positioned left */
.notify-bubble {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background: #ff4957;
  color: #fff;
  font-size: 1.15em;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  box-shadow: 0 2px 8px 0 rgba(255, 60, 30, 0.11);
  border: 1.5px solid #fff;
  z-index: 2;
}

/* When item expands, keep bubble top-aligned */
.checklist-item.expanded .notify-bubble {
  top: 18px;
  transform: none;
}

.checklist-label {
  flex: 1 1 0%;
  min-width: 0;
  font-weight: 500;
  font-size: 1.03em;
  color: #fff;
  white-space: normal;
  overflow-wrap: break-word;
  text-overflow: ellipsis;
  transition: color 0.16s;
  margin-right: 12px;
}
.checklist-item.done .checklist-label {
  text-decoration: line-through;
  color: #93d3be;
}

/* Button stays right, not wrapping label */
.btn.outline.btn-sm {
  flex-shrink: 0;
  font-size: 1.08em;
  font-weight: 600;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.15);
  border: 1.2px solid #c8d5fa;
  box-shadow: 0 1px 7px 0 rgba(80, 90, 180, 0.07);
  padding: 0.46em 1.19em;
  color: #111b29;
  min-width: 104px;
  min-height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 0;
  margin-right: 0;
}
.btn.outline.btn-sm:hover,
.btn.outline.btn-sm:focus {
  background: #b48aff;
  color: #fff;
  border-color: #b48aff;
}

/* Check & lock badges */
.badge-success,
.badge-waiting {
  flex-shrink: 0;
  margin-left: 10px;
  margin-right: 0;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.badge-success {
  background: #36d19b;
  color: #133;
  padding: 0.3em 0.69em;
  font-weight: 700;
  font-size: 1.19em;
  border: 1.1px solid #21b372;
  box-shadow: 0 2px 8px 0 rgba(60, 180, 150, 0.09);
}
.badge-waiting {
  background: #dadada;
  color: #666;
  padding: 0.33em 0.7em;
  font-size: 1.13em;
  border: 1.1px solid #aaa;
}

/* Details/substeps, still full width */
.checklist-details {
  display: block;
  color: #d2ecfd;
  font-size: 0.97em;
  margin: 6px 0 0 0;
  width: 100%;
  word-break: break-word;
  padding-left: 36px; /* aligns with label start */
}
.checklist-item.done .checklist-details {
  color: #155c38;
}
.checklist-item .substeps {
  margin: 7px 0 0 10px;
  padding: 0;
  list-style: none;
}
.checklist-item .substeps li {
  color: #c3cbe3;
  font-size: 0.95em;
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  gap: 6px;
}
.checklist-item .substeps li.done {
  color: #36d19b;
}

.completion-badge {
  position: fixed;
  top: 13vh;
  left: 50%;
  transform: translateX(-50%);
  background: #43f3ad;
  color: #262645;
  padding: 18px 36px;
  border-radius: 18px;
  font-size: 1.23em;
  box-shadow: 0 4px 28px #0c2137ee;
  z-index: 9999;
  animation: popCheck 0.65s cubic-bezier(0.55, 1.8, 0.38, 1.06);
}
@media (max-width: 540px) {
  .checklist-item {
    padding: 13px 3vw 13px 0;
  }
  .checklist-label {
    font-size: 0.97em;
  }
  .completion-badge {
    font-size: 1.04em;
    padding: 10px 8vw;
  }
}

/* Animation for popping check badge */
@keyframes popCheck {
  0% {
    transform: scale(0.5) translateX(-50%);
    opacity: 0;
  }
  80% {
    transform: scale(1.14) translateX(-50%);
  }
  100% {
    transform: scale(1) translateX(-50%);
    opacity: 1;
  }
}
.checklist-item.expanded .checklist-label {
  display: none;
}
.checklist-item-main {
  min-height: 38px;
}

.checklist-item.expanded .checklist-item-main {
  align-items: flex-start;
}

.notify-bubble,
.btn.outline.btn-sm {
  flex-shrink: 0;
}

.checklist-item.expanded .checklist-label {
  display: none;
}
/* === "WHAT'S NEW" UPDATE CARD POLISH (ALL ROLES, 2024) === */

.update-area,
#latest-update-card, /* fallback ID for injection */
.dashboard-card.update-banner {
  background: linear-gradient(104deg, #23294b 60%, #463d6b 100%);
  border: 1.7px solid #b7bffe23;
  box-shadow: 0 4px 28px 0 rgba(120, 140, 255, 0.11);
  border-radius: 16px;
  padding: 1.3em 1.3em 1em 1.7em;
  color: #f7f8fd;
  margin-bottom: 1.25em;
  min-height: 70px;
  position: relative;
  animation: fadeInPop 0.48s cubic-bezier(0.55, 1.4, 0.6, 1.01);
  overflow: hidden;
  transition:
    box-shadow 0.18s,
    background 0.15s;
}

.update-banner .update-title,
#latest-update-card .update-title {
  font-weight: 700;
  font-size: 1.14em;
  color: #76f1dc;
  margin-bottom: 0.13em;
  letter-spacing: 0.02em;
}

.update-banner .update-content,
#latest-update-card .update-content {
  font-size: 1.06em;
  color: #ece9fa;
  margin-bottom: 0.4em;
  white-space: pre-line; /* Allows newlines from db */
  line-height: 1.55;
  word-break: break-word;
}

.update-banner .update-date,
#latest-update-card .update-date {
  font-size: 0.98em;
  color: #b1adff;
  opacity: 0.8;
  margin-top: 0.12em;
  font-style: italic;
  letter-spacing: 0.01em;
}

.update-empty {
  text-align: center;
  color: #b2b6df;
  font-size: 1.04em;
  opacity: 0.82;
  margin: 1.1em 0;
}

/* Optional: "NEW" badge */
.update-badge-new {
  position: absolute;
  top: 1.05em;
  right: 1.09em;
  background: linear-gradient(95deg, #ffdb70 50%, #f4ad3d 100%);
  color: #442800;
  font-size: 0.86em;
  font-weight: 700;
  padding: 0.16em 1.05em;
  border-radius: 13px;
  box-shadow: 0 2px 8px 0 rgba(255, 180, 50, 0.08);
  letter-spacing: 0.03em;
  z-index: 2;
}

@media (max-width: 600px) {
  .update-area,
  #latest-update-card,
  .dashboard-card.update-banner {
    padding: 0.8em 0.6em 0.8em 1em;
    border-radius: 13px;
    font-size: 0.98em;
  }
  .update-badge-new {
    top: 0.65em;
    right: 0.7em;
    font-size: 0.82em;
    padding: 0.1em 0.7em;
    border-radius: 10px;
  }
}

/* Entry Animation */
@keyframes fadeInPop {
  0% {
    transform: scale(0.97) translateY(18px);
    opacity: 0;
  }
  88% {
    transform: scale(1.04) translateY(-4px);
  }
  100% {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}
/* === Welcome Screen Styling (Frosted Glass, Soft, Modern, No Panel) === */

/* Main screen background: blue multi-gradient only */
.welcome-screen {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  background: linear-gradient(120deg, #242848 0%, #3a3084 100%);
  position: relative;
  overflow: hidden;
  padding: 0 0.5em;
}

/* Remove any legacy panel backgrounds that might override this */
body, #app, .main-panel, .background-panel, .welcome-panel {
  background: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* Switch School Button (floating above card) */
.switch-school-wrapper {
  width: 100%;
  display: flex;
  justify-content: center;
  position: relative;
  z-index: 12;
  pointer-events: none;
}
#switch-school-btn {
  margin-top: 32px;
  pointer-events: all;
  background: rgba(255,255,255,0.11);
  border: 2.5px solid var(--brand-primary, #b48aff);
  color: var(--brand-primary, #b48aff);
  font-weight: 600;
  border-radius: 2em;
  padding: 9px 38px;
  font-size: 1.09em;
  box-shadow: 0 2px 12px rgba(180,138,255,0.09);
  backdrop-filter: blur(8px) saturate(1.15);
  transition: background 0.22s, border 0.22s, color 0.18s;
}
#switch-school-btn:hover {
  background: rgba(180,138,255,0.16);
  color: #fff;
}

/* Main Welcome Card: True glass, no extra panel */
.welcome-content {
  background: rgba(38, 65, 115, 0.24);      /* glassy blue tint */
  border-radius: 1.7em;
  border: 1.5px solid rgba(255,255,255,0.18);
  box-shadow:
    0 10px 36px 0 rgba(44,80,160,0.12),
    0 1.5px 10px 0 rgba(70,140,255,0.05);
  padding: 2.1em 1.1em 2em 1.1em;
  margin: 38px auto 0 auto;
  max-width: 370px;
  width: 100%;
  text-align: center;
  backdrop-filter: blur(26px) saturate(1.15);
  -webkit-backdrop-filter: blur(26px) saturate(1.15);
  color: #f4f8ff;
  z-index: 1;
  position: relative;
  animation: fadeInUp 0.6s cubic-bezier(.17,.67,.38,.95);
  transition: background 0.26s, box-shadow 0.24s;
}

/* Responsive Glass Card */
@media (max-width: 600px) {
  .welcome-content { max-width: 99vw; border-radius: 1.1em; padding: 1.2rem 0.28rem 1rem 0.28rem; }
  #switch-school-btn { padding: 9px 18px; font-size: 0.97em; margin-top: 17px; }
}

/* Logo */
.welcome-logo {
  display: block;
  margin: 0 auto 0.9em auto;
  max-width: 92px;
  border-radius: 18px;
  background: #fff2;
  box-shadow: 0 4px 14px rgba(80,40,180,0.09);
}

/* Typewriter Headline */
.typewriter {
  font-size: 2.1rem;
  font-weight: 700;
  letter-spacing: -1px;
  color: #fff;
  margin-bottom: 0.25em;
  display: flex;
  justify-content: center;
  align-items: baseline;
  gap: 0.1em;
}
.typewriter .cursor {
  color: var(--brand-primary, #b48aff);
  font-size: 1.1em;
  animation: blink-cursor 1.1s steps(1) infinite;
}
@keyframes blink-cursor {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

/* Subheadline */
.welcome-content p {
  color: #e1e9ff;
  margin-bottom: 1.7em;
  font-size: 1.08em;
  line-height: 1.5;
}

/* Main Buttons: Soft, Modern, Responsive */
.welcome-content .btn {
  margin: 0.5em 0;
  width: 100%;
  max-width: 260px;
  padding: 0.87em 0;
  border-radius: 1.2em;
  font-size: 1.13em;
  font-weight: 600;
  border: none;
  box-shadow: 0 1px 10px rgba(100, 40, 160, 0.08);
  transition: background 0.18s, box-shadow 0.18s, color 0.15s;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.7em;
  margin-left: auto;
  margin-right: auto;
}
.welcome-content .btn:not(:last-child) { margin-bottom: 0.7em; }
/* Frosted, glassy login button */
.welcome-content .btn.pulse {
  background: linear-gradient(90deg, #b2dcff 40%, #d0caff 100%);
  color: #242848;
  box-shadow: 0 2px 12px rgba(120,190,255,0.11);
  border: none;
}
.welcome-content .btn.pulse:hover {
  background: linear-gradient(90deg, #c4e7ff 30%, #bdafff 100%);
  color: #222546;
}
.welcome-content .btn.outline {
  background: rgba(255,255,255,0.14);
  color: #e7eaff;
  border: 1.3px solid #d2e6ff2e;
}
.welcome-content .btn.outline:hover {
  background: rgba(180,138,255,0.09);
  color: #fff;
}
.welcome-content .icon { font-size: 1.1em; margin-right: 0.14em; }

/* Features Section: Soft cards, grid */
.features {
  margin-top: 2.1em;
  background: none;
  border-radius: 1.1em;
  padding: 0.4em 0 0.3em 0;
  box-shadow: none;
  overflow-x: auto;
}
.features-list {
  display: flex;
  flex-wrap: wrap;
  gap: 1.07em 1.12em;
  justify-content: center;
  margin-top: 0.3em;
}
.feat {
  min-width: 138px;
  min-height: 88px;
  text-align: center;
  background: rgba(220,230,255,0.17);
  border-radius: 1.18em;
  padding: 1em 0.4em 0.7em 0.4em;
  margin: 0.1em 0.13em;
  box-shadow: 0 1px 7px rgba(100,120,200,0.05);
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 1.04em;
  color: #e6eafd;
  border: 1px solid rgba(255,255,255,0.11);
  transition: background 0.18s, box-shadow 0.17s;
}
.feat i { font-size: 1.42em; margin-bottom: 0.09em; }
.feat:hover { background: rgba(180,210,255,0.16); color: #fff; }

/* Footer */
.welcome-footer {
  font-size: 0.99em;
  color: #bed6ff;
  margin-top: 2.5rem;
  opacity: 0.93;
}
.welcome-footer a {
  color: var(--brand-primary, #b48aff);
  text-decoration: underline;
  transition: color 0.18s;
}
.welcome-footer a:hover { color: #fff; }

/* Bokeh BG Decoration */
.bokeh-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
.bokeh-dot {
  position: absolute;
  width: 92px;
  height: 92px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 20%, #b48aff35 0%, #b48aff09 80%);
  filter: blur(6px);
  opacity: 0.28;
  animation: floatBokeh 18s infinite linear;
}
@keyframes floatBokeh {
  to { transform: translateY(-38px) scale(1.08); opacity: 0.22; }
}
.parallax-float { animation: floatBokeh 18s infinite linear; }

/* Fade-in animation for card */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(32px);}
  to { opacity: 1; transform: translateY(0);}
}
.fade-in { animation: fadeInUp 0.7s cubic-bezier(.17,.67,.38,.95); }

/* Glow for shimmer effect */
.shimmer-glow {
  box-shadow: 0 0 42px 3px #b48aff1a, 0 1px 8px #fff2;
}
.features {
  background: none !important;
  box-shadow: none !important;
}
.features-list {
  background: none !important;
  box-shadow: none !important;
}
/* â”€â”€â”€ Page Transitions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.screen-wrapper {
  opacity: 1;
  transition:
    opacity 0.34s cubic-bezier(0.56, 0.1, 0.47, 1),
    transform 0.34s cubic-bezier(0.56, 0.1, 0.47, 1);
}

/* Fade for desktop (default) */
.fade-in {
  opacity: 1;
  pointer-events: all;
}
.fade-out {
  opacity: 0;
  pointer-events: none;
}

/* Slide for mobile (added by JS below) */
.slide-in-right {
  opacity: 1;
  transform: translateX(0);
}
.slide-out-left {
  opacity: 0;
  transform: translateX(-60vw);
}
.slide-in-left {
  opacity: 1;
  transform: translateX(0);
}
.slide-out-right {
  opacity: 0;
  transform: translateX(60vw);
}

@media (max-width: 900px) {
  .screen-wrapper {
    will-change: transform, opacity;
    transition:
      opacity 0.34s cubic-bezier(0.56, 0.1, 0.47, 1),
      transform 0.34s cubic-bezier(0.56, 0.1, 0.47, 1);
  }
}
